<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" href="favicon.png" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js"></script>
    <style>
        body {
            font-family: Georgia, 'Times New Roman', Times, serif;
            font-size: 1.0rem;
        }
        article {
            margin-top: 5em;
        }
        .side-nav {
            color: black;
            border-radius: 50%;
            text-decoration: none;
            border: none;
            width: 3em;
            height: 3em;
            padding: 10px;
            background-color: white;
            transition: 0.5s;
            margin-bottom: 10px;
            font-size: 1rem;
            line-height: 1; 
        }
        .side-nav-div {
            margin-top: 7em;
            text-align: center;
        }
        .side-nav:hover {
            color: white;
            background-color: black;
        }
        .side-nav {
            font-size: 0.5rem;
        }
        .fixed-size {
            width: 3em;
            height: 3em;
            padding: 10px;
            font-size: 0.6rem;
            line-height: 1;
        }
        html {
            font-size: 1.3rem;
        }
        body.dark-mode .katex {
            color: white !important;
        }
        body .katex {
            color: black;
        }
    </style>
</head>
<body class="container">
    <div class="row">
        <div class="col-1 side-nav-div">
            <button onclick="window.location.replace('https://example.com')" class="side-nav fixed-size"><span class="fa fa-home"></span></button>
            <button onclick="increaseFontSize()" class="side-nav fixed-size">A+</button>
            <button onclick="decreaseFontSize()" class="side-nav fixed-size">A-</button>
        </div>
        <article class="col-11 mt-5"></article>
    </div>

    <script>
        async function loadMarkdown() {
            const params = new URLSearchParams(window.location.search);
            const article = params.get('article');
            
            if (!article) {
                document.querySelector('article').innerHTML = "<p>Error: No article specified.</p>";
                return;
            }

            const response = await fetch(article);
            if (!response.ok) {
                document.querySelector('article').innerHTML = "<p>Error loading article content.</p>";
                return;
            }
            const markdown = await response.text();
            const htmlContent = marked.parse(markdown);
            document.querySelector('article').innerHTML = htmlContent;

            renderMathInElement(document.querySelector('article'), {
                delimiters: [
                    { left: "$$", right: "$$", display: true },
                    { left: "$", right: "$", display: false }
                ]
            });
        }

        function increaseFontSize() {
            const html = document.documentElement;
            const currentFont = parseFloat(window.getComputedStyle(html).fontSize);
            if (currentFont < 35) html.style.fontSize = (currentFont + 3) + "px";
        }

        function decreaseFontSize() {
            const html = document.documentElement;
            const currentFont = parseFloat(window.getComputedStyle(html).fontSize);
            if (currentFont > 14) html.style.fontSize = (currentFont - 3) + "px";
        }

        window.addEventListener('load', loadMarkdown);
    </script>
</body>
</html>
